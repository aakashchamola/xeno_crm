(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{648:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/callback",function(){return r(6826)}])},6826:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(7876),a=r(4232),s=r(9099),i=r(6984);function o(){let e=(0,s.useRouter)(),[t,r]=(0,a.useState)("");return((0,a.useEffect)(()=>{try{let t=new URL(window.location.href).searchParams.get("token");if(t){localStorage.setItem("jwt",t);let r=(0,i.s)(t);localStorage.setItem("user",JSON.stringify(r)),e.replace("/campaigns")}else r("No token found in callback URL.")}catch(e){r("Invalid token or callback URL.")}},[e]),t)?(0,n.jsxs)("div",{style:{color:"red"},children:["Sign-in failed: ",t]}):(0,n.jsx)("div",{children:"Signing in..."})}},6984:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});class n extends Error{}function a(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let a=+(!0!==t.header),s=e.split(".")[a];if("string"!=typeof s)throw new n(`Invalid token specified: missing part #${a+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(s)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${a+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new n(`Invalid token specified: invalid json for part #${a+1} (${e.message})`)}}n.prototype.name="InvalidTokenError"},9099:(e,t,r)=>{e.exports=r(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(648)),_N_E=e.O()}]);